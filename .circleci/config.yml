version: 2.1
jobs:
  checkov:
    docker:
      - image: ubuntu:latest
        auth:
          username: mydockerhub-user
          password: $DOCKERHUB_PASSWORD 
    steps:
      - checkout:
      - run:
          name: Running CheckOV
          command: docker run --volume "${{ env.GITHUB_WORKSPACE }}":/tf bridgecrew/checkov --directory /tf --soft-fail
workflows:
  running-checkov:
    jobs:
      - checkov
